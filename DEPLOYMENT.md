# ðŸš€ Firebase Hosting Deployment Guide

## Prerequisites
1. Install Firebase CLI:
```bash
npm install -g firebase-tools
```

2. Login to Firebase:
```bash
firebase login
```

## Setup Steps

### 1. Create/Select GCP Project
- Go to [Firebase Console](https://console.firebase.google.com/)
- Create a new project or select existing one
- Enable Firebase Hosting in the project

### 2. Configure Project
Edit `.firebaserc` and replace `YOUR_PROJECT_ID` with your actual Firebase project ID.

### 3. Build the Application
```bash
npm install
npm run build
```

### 4. Deploy to Firebase
```bash
firebase deploy --only hosting
```

After deployment, you'll get a URL like:
- `https://YOUR_PROJECT_ID.web.app`
- `https://YOUR_PROJECT_ID.firebaseapp.com`

## Custom Domain Setup (plug-hr.com)

### 1. Add Custom Domain in Firebase Console
- Go to Firebase Console â†’ Hosting
- Click "Add custom domain"
- Enter `plug-hr.com` and `www.plug-hr.com`

### 2. DNS Records
Firebase will provide DNS records. Add them to your domain registrar:

**Verification (TXT record):**
- Type: TXT
- Name/Host: @
- Value: [Copy from Firebase Console]
- TTL: 3600

**A Records:**
Firebase will show specific IP addresses. Add them as A records.

**For www (CNAME):**
- Type: CNAME
- Name: www
- Value: [Copy from Firebase Console]
- TTL: 3600

### 3. Wait for SSL
Firebase will automatically provision SSL certificate after DNS verification (can take minutes to hours).

## Project Structure
- `dist/` - Built files (generated by `npm run build`)
- `firebase.json` - Firebase Hosting configuration
- `.firebaserc` - Project aliases

## Configuration Details

### firebase.json
- **public**: `dist` - Vite output directory
- **rewrites**: All routes â†’ `index.html` (SPA support)
- **headers**: Cache static assets for 1 year

## Useful Commands

```bash
# Build for production
npm run build

# Preview build locally
npm run preview

# Deploy to Firebase Hosting
firebase deploy --only hosting

# View deployment history
firebase hosting:channel:list

# Rollback to previous version (in Firebase Console)
```

## Cost Estimate
- **Low traffic**: $0 (free tier)
- **Medium traffic** (10-50GB/month): $1.50-$10
- **SSL**: Free (managed by Firebase)
- **CDN**: Included

## Troubleshooting

### Build fails
```bash
# Clean install
rm -rf node_modules dist
npm install
npm run build
```

### Deployment fails
```bash
# Check Firebase login
firebase login --reauth

# Check project
firebase projects:list
firebase use YOUR_PROJECT_ID
```

### SPA routes return 404
Ensure `firebase.json` has the rewrite rule (already configured).

## Next Steps (Optional)

### Add Backend APIs
Deploy Cloud Functions or Cloud Run and use rewrites:
```json
{
  "hosting": {
    "rewrites": [
      {"source": "/api/**", "function": "api"},
      {"source": "**", "destination": "/index.html"}
    ]
  }
}
```

### Enable Analytics
Add Firebase Analytics SDK to track usage.

### Performance Monitoring
Enable Firebase Performance Monitoring in Console.
